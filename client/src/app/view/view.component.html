<div class="container mat-elevation-z8 mt-15">
  <div class="loading-shade" *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults" diameter="40"></mat-spinner>
  </div>
  <form
    [formGroup]="viewFormGroup"
    style="margin: 15px;"
    (ngSubmit)="onSubmit()"
  >
    <div>
      <mat-form-field style="margin-top: 15px;">
        <mat-label>Document Name</mat-label>
        <input matInput placeholder="Document Name" formControlName="name"
        >
      </mat-form-field>
      <mat-chip-list #chipList aria-label="Users shared to" style="float: right;margin: 15px;">
        <span *ngFor="let user of data.users">
            <mat-chip
              color="primary"
              matTooltipClass="my-tooltip"
              matTooltip="{{user.name}}{{
                user.accessed_on
                ? ('\n Last Viewed: ' + (user.accessed_on | date: 'dd/MM/yyyy h:mm a'))
                : ''}}"
            >
              {{user.name.substring(0, 1) | uppercase}}
            </mat-chip>
        </span>
      </mat-chip-list>
    </div>
    <div style="border-top: solid 0.2px gray;">
      <mat-form-field style="width: 100%;">
        <textarea
          matInput
          formControlName="contents"
          cdkTextareaAutosize
          cdkAutosizeMinRows="10"
          cdkAutosizeMaxRows="500"
        ></textarea>
      </mat-form-field>
    </div>
    <button mat-raised-button color="primary" [disabled]="!viewFormGroup.valid" type="submit"
    style="margin-bottom:15px;"
    >Update</button>
    <mat-error class="mt-15" *ngIf="errMsg">{{errMsg}}</mat-error>
  </form>
</div>